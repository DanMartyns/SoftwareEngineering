<!DOCTYPE html>
<html>

  <!--
	Twenty by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->

<head>
    <title>ECGMonitor - Data Model</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="The tool to monitor the ECG.
">
    <meta name="keywords" content="" />
    <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.dropotron.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/jquery.scrollgress.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/skel-layers.min.js"></script>
    <script src="/js/init.js"></script>
    <script src="/js/responsiveslides.min.js"></script>
    <!--<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>-->


    <noscript>
        <link rel="stylesheet" href="/css/skel.css" />
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/style-wide.css" />
        <link rel="stylesheet" href="/css/style-noscript.css" />
        <link rel="stylesheet" href="/css/base.css" />
    </noscript>

    <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="/css/ie/v9.css" /><![endif]-->
    <meta name="viewport" content="width=device-width">

    <link rel="canonical" href="http://localhost:4000/specification/data-model/">
    <link rel="shortcut icon" type="image/ico" href="/images/logo.ico">
</head>


  <body class="left-sidebar">

    <header id="header">

				<h1 id="logo"><img style="margin-top:-10px; display: inline-block;" src="/images/logo-small.png" /></h1>
				<nav id="nav">
					<ul>
						<li><a href="/">Home</a></li>
                        
                        
                            
                            <li class="submenu">
                                <a href="/architecture/architecture/">Architecture</a>
                                <ul>
                                
                                    <li><a href="/architecture/architecture/">Architecture</a></li>
                                
                                    <li><a href="/architecture/deployment-architecture/">Deployment Architecture</a></li>
                                
                                
                                
                                </ul>
                            </li>
                        
                            
                            <li class="submenu">
                                <a href="/developer/developer-area/">Developer</a>
                                <ul>
                                
                                    <li><a href="/developer/developer-area/">Developer Area</a></li>
                                
                                    <li><a href="/developer/web-portal/">Web Portal</a></li>
                                
                                    <li><a href="/developer/data-processing/">Data Processing</a></li>
                                
                                    <li><a href="/developer/data-persistence/">Data Persistence</a></li>
                                
                                    <li><a href="/developer/platform-monitoring/">Platform Monitoring</a></li>
                                
                                    <li><a href="/developer/system-deployment/">System Deployment</a></li>
                                
                                    <li><a href="/developer/artifactory/">Artifactory</a></li>
                                
                                
                                    <li><a href="https://github.com/DanMartyns/SoftwareEngineering" target="_blank">Code Repository</a></li>
                                
                                
                                </ul>
                            </li>
                        
                            
                            <li class="submenu">
                                <a href="/manual/user-manual/">Manual</a>
                                <ul>
                                
                                    <li><a href="/manual/user-manual/">User Manual</a></li>
                                
                                
                                
                                </ul>
                            </li>
                        
                            
                            <li class="submenu">
                                <a href="/specification/context-and-scope/">Specification</a>
                                <ul>
                                
                                    <li><a href="/specification/context-and-scope/">Context And Scope</a></li>
                                
                                    <li><a href="/specification/requirements-and-features/">Requirements And Features</a></li>
                                
                                    <li><a href="/specification/scenarios-and-use-cases/">Scenarios And Use Cases</a></li>
                                
                                    <li><a href="/specification/data-model/">Data Model</a></li>
                                
                                
                                
                                </ul>
                            </li>
                        
                            
                            <li class="submenu">
                                <a href="/team/the-team/">Team</a>
                                <ul>
                                
                                    <li><a href="/team/the-team/">The Team</a></li>
                                
                                    <li><a href="/team/milestones/">Milestones</a></li>
                                
                                
                                
                                </ul>
                            </li>
                        
                        <!--<li><a href="/contact.html">About us</a></li>-->
						<!--<li><a href="#" class="button special">Sign Up</a></li>-->
					</ul>
				</nav>
			</header>


    <section id="main" class="doc">

                <header class="special container">
                    <span class="icon fa-laptop"></span>
                    <h3>Specification</h3>
                    <h2><strong>Data Model</strong></h2>
                </header>

                <!-- One -->
                <section class="wrapper style4 container">

                    <div class="row oneandhalf">
                        <div class="4u">

                            <!-- Sidebar -->
                                <div class="sidebar">
                                    <section>
                                        <nav class="full-navigation">
                                            <ul>
                                                
                                                
                                                <li class="docs-nav-item top-level ">
                                                    
                                                    <a href="/architecture/architecture/">Architecture</a>
                                                    <ul>
                                                        
                                                        <li class="docs-nav-item "><a href="/architecture/architecture/">Architecture</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/architecture/deployment-architecture/">Deployment Architecture</a></li>
                                                        
                                                        
                                                        
                                                    </ul>
                                                </li>
                                                
                                                <li class="docs-nav-item top-level ">
                                                    
                                                    <a href="/developer/developer-area/">Developer</a>
                                                    <ul>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/developer-area/">Developer Area</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/web-portal/">Web Portal</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/data-processing/">Data Processing</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/data-persistence/">Data Persistence</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/platform-monitoring/">Platform Monitoring</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/system-deployment/">System Deployment</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/developer/artifactory/">Artifactory</a></li>
                                                        
                                                        
                                                            <li class="docs-nav-item">
                                                                <a href="https://github.com/DanMartyns/SoftwareEngineering" target="_blank">Code Repository</a>
                                                            </li>
                                                        
                                                        
                                                    </ul>
                                                </li>
                                                
                                                <li class="docs-nav-item top-level ">
                                                    
                                                    <a href="/manual/user-manual/">Manual</a>
                                                    <ul>
                                                        
                                                        <li class="docs-nav-item "><a href="/manual/user-manual/">User Manual</a></li>
                                                        
                                                        
                                                        
                                                    </ul>
                                                </li>
                                                
                                                <li class="docs-nav-item top-level current">
                                                    
                                                    <a href="/specification/context-and-scope/">Specification</a>
                                                    <ul>
                                                        
                                                        <li class="docs-nav-item "><a href="/specification/context-and-scope/">Context And Scope</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/specification/requirements-and-features/">Requirements And Features</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/specification/scenarios-and-use-cases/">Scenarios And Use Cases</a></li>
                                                        
                                                        <li class="docs-nav-item current"><a href="/specification/data-model/">Data Model</a></li>
                                                        
                                                        
                                                        
                                                    </ul>
                                                </li>
                                                
                                                <li class="docs-nav-item top-level ">
                                                    
                                                    <a href="/team/the-team/">Team</a>
                                                    <ul>
                                                        
                                                        <li class="docs-nav-item "><a href="/team/the-team/">The Team</a></li>
                                                        
                                                        <li class="docs-nav-item "><a href="/team/milestones/">Milestones</a></li>
                                                        
                                                        
                                                        
                                                            <li class="docs-nav-item">
                                                                <a href="/blog.html">Weekly log</a>
                                                            </li>
                                                            <li class="docs-nav-item">
                                                                <a href="https://docs.google.com/spreadsheets/d/104kt8YnjNS1ZUFQNQ1pesl0or72m1JpABVdut2p8vCI/edit?usp=sharing" target="_blank">Timesheet</a>
                                                            </li>
                                                        
                                                    </ul>
                                                </li>
                                                
                                            </ul>

                                            <ul>
                                                <li class="nav-item top-level ">
                                                    
                                                    <a href="/design/"></a>
                                                </li>
                                            </ul>

                                            <ul>

                                            </ul>
                                        </nav>

                                    </section>
                                </div>

                        </div>
                        <div class="8u skel-cell-important">
                            <!-- Content -->
                            <article class="content">
                                <h2 id="data-model">Data Model</h2>

<p>The information retrieved from the sensors may be different from one to another. To allow fast and uniform data processing, and scalability to add sensors from other types, it was estabilished an uniform syntax for the messages across all types of sensors.</p>

<p>The message should be formatted as a <em>JSON</em> message, as in the next example:
<strong>{‘value’: ‘15.6’, ‘timestamp’: ‘2018-06-02T10:27:19.053371’, ‘status’: ‘OK’}</strong></p>

<p>Where</p>
<ul>
  <li><em>value</em> is a numerical value that represents the value being sent. To allow the creation of charts and the calculation of averages, all values sent must be numeric. If there is a sensor with non-numeric data, it must be converted into a numeric format;</li>
  <li><em>timestamp</em> is the sensor timestamp as a string;</li>
  <li><em>status</em> is the current sensor status; if the sensor status didn’t changed, this field will remain the same as in the last message.</li>
</ul>

<p>The following diagram represents <strong>SmartFarm</strong> data model. The model is not deployed as is, because it is split between micro-services. Still, it is logically coupled as the next diagram shows.</p>

<p><img src="/images/docs/datamodel.png" alt="DataModel" /></p>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Farms</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity will save information about a farm, storing his information such as name, address, area and localization</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Farms Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Sensors</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity represents the sensors in the system. A sensor is always associated with a farm and has attributes such as name, model, actuator (true if is an actuator, false otherwise), localization and others.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Sensors Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Users</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity represents the users of the platform and stores the relevant information about the users.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Users Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>PermissionGroups</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity is associated with users and represents the permissions each user has to read data from sensors, write (send values to actuators) and others.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Users Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Alerts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity saves the alerts specified by the users for each sensor, having as important attributes the alert type and the threshold.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Alerts &amp; Actuators Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Actuators</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity represents the automated actuators that are associated with the alerts. Every time an alert is triggered, all actuators for that alert are activated, and the value in the actuator is sent to the sensor.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Alerts &amp; Actuators Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Triggered Alerts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity represents the alerts that were triggered, with its ID and the timestamp of when it ocurred.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>Alerts &amp; Actuators Management</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Entity</th>
      <th>Values</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Description</td>
      <td>This entity represents the values sent by the sensors to the platform. It is implemented as a No-SQL database to accomodate very large loads of data without any additional delay and to accomodate changes in the format of the messages sent by the sensors without any refactoring.</td>
    </tr>
    <tr>
      <td>Module</td>
      <td>SmartFarm Data Persistence</td>
    </tr>
  </tbody>
</table>


                            </article>

                        </div>
                    </div>
                </section>

            </section>



    <!-- Footer -->
<footer id="footer">

    <ul class="icons">
        <li><a style="border-bottom: none;" href="http://www.ua.pt/" class=""><img class="label" src="/images/ua-logo.png"></img></a></li>
    </ul>

    <ul class="copyright">
        <li>&copy; HeartRateMonitor 2019</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
    </ul>

</footer>

  </body>

</html>
